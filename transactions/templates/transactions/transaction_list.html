{% extends 'base.html' %}
{% load static %}

    {% block title %}Finance Tracker{% endblock %}
    {% block content %}
    <h1 class="mb-4">Personal Finance Tracker</h1>

    <!-- Summary Card-->
      <div class="card text-center mb-4 shadow-sm">
        <div class="card-body">
          <h5 class="card-title">Summary</h5>
            <div class="row">
              <div class="col-md-4">
                <h6 class="text-success">Total Income</h6>
                  <p class="fs-5">${{ total_income | default:"0.0" }}</p>
            </div>
        <div class="col-md-4">
         <h6 class="text-danger">Total Expenses</h6>
           <p class="fs-5">${{ total_expenses | default:"0.0" }}</p>
        </div>
        <div class="col-md-4">
          <h6 class="text-primary">Balance</h6>
          <p class="fs-5">${{ balance | default:"0.0" }}</p>
        </div>
      </div>
    </div>
  </div>
    <!-- Transaction Button -->
    <a href ="{% url 'add_transaction' %}" class="btn btn-primary mb-3">Add Transaction</a>

    <!-- Transaction Table -->
    <table class="table table-striped table-hover" id="transactionTable">
        <thead>
            <tr>
                <th scope="col">Title</th>
                <th scope="col">Amount</th>
                <th scope="col">Type</th>
                <th scope="col">Category</th>
                <th scope="col">Date</th>
                <th scope="col">Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for transaction in transactions %}
            <tr>
                <td>{{ transaction.title }}</td>
                <td>${{ transaction.amount }}</td>
                <td>{{ transaction.transaction_type }}</td>
                <td>{{ transaction.category }}</td>
                <td text-nowrap>{{ transaction.date }}</td>
                <td>
                    <a href="{% url 'edit_transaction' transaction.pk %}" class="btn btn-warning btn-sm">Edit</a>
                    <a href="{% url 'delete_transaction' transaction.pk %}" class="btn btn-danger btn-sm">Delete</a>
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="6" class="text-center">No transactions yet.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    {% endblock %}
